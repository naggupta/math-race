(this["webpackJsonpmath-race"]=this["webpackJsonpmath-race"]||[]).push([[0],{10:function(e,t,n){e.exports={SingleplayerSection:"SingleplayerSection_SingleplayerSection__38mzd",PlayerCharacter:"SingleplayerSection_PlayerCharacter__gWm0Y",ProgressBar:"SingleplayerSection_ProgressBar__2g8ZI",QuestionBar:"SingleplayerSection_QuestionBar__1Iznw","question-enter":"SingleplayerSection_question-enter__28PWK","question-enter-active":"SingleplayerSection_question-enter-active__3M5Mz","question-exit":"SingleplayerSection_question-exit__1jpMR","question-exit-active":"SingleplayerSection_question-exit-active__2uRFy",Question:"SingleplayerSection_Question__39n_G",Close:"SingleplayerSection_Close__2yvDL",Refresh:"SingleplayerSection_Refresh__1GF1-",ButtonBar:"SingleplayerSection_ButtonBar__3alYz",Answer:"SingleplayerSection_Answer__2zs57",BtnGo:"SingleplayerSection_BtnGo__2FvSX",BtnNumber:"SingleplayerSection_BtnNumber__2JxfN",HideQuestion:"SingleplayerSection_HideQuestion__fvc8v","hide-question":"SingleplayerSection_hide-question__3ro_n",HideAnswer:"SingleplayerSection_HideAnswer__2KDrd",ShowQuestion:"SingleplayerSection_ShowQuestion__2I_JZ","show-question":"SingleplayerSection_show-question__3PmVk",DisplayMessage:"SingleplayerSection_DisplayMessage___q_ms",MessageAnimate:"SingleplayerSection_MessageAnimate__1H87e","hide-animation":"SingleplayerSection_hide-animation__2KaC1",Correct:"SingleplayerSection_Correct__3vwsf",Wrong:"SingleplayerSection_Wrong__3TY7c",Retry:"SingleplayerSection_Retry__2kFG-",NextAnswer:"SingleplayerSection_NextAnswer__1HmYf"}},126:function(e,t,n){e.exports={Toggle:"ToggleControl_Toggle__1DhTu",Slider:"ToggleControl_Slider__3D0u1"}},186:function(e,t,n){e.exports={svgComponent:"CanvasDraw_svgComponent__2sxd_"}},190:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__zFzWk"}},191:function(e,t,n){e.exports={Modal:"Modal_Modal__16SAR",Close:"Modal_Close__2D0xG"}},192:function(e,t,n){e.exports={Race:"MultiplayerWrapper_Race__2J0PG"}},197:function(e,t,n){e.exports={BtnGo:"AnswerInput_BtnGo__3OVww",BtnNumber:"AnswerInput_BtnNumber__3nlvm"}},198:function(e,t,n){},207:function(e,t,n){},211:function(e,t,n){},219:function(e,t){},238:function(e,t,n){e.exports={Race:"RaceWrapper_Race__273Aj"}},41:function(e,t,n){e.exports={SingleplayerSetup:"SingleplayerSetup_SingleplayerSetup__1al8v",BtnGo:"SingleplayerSetup_BtnGo__2xlBA",Type:"SingleplayerSetup_Type__2VIbM",Options:"SingleplayerSetup_Options__2HJWM",Group4:"SingleplayerSetup_Group4__2sqxg",Group2:"SingleplayerSetup_Group2__2MVLS",Items:"SingleplayerSetup_Items__2jmiM"}},531:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n(3),r=n.n(a),i=n(28),c=n.n(i),o=(n(207),n(94)),l=n(23),u=n(59),p=n(185),d=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function j(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(211);var y=n(14),h=n(15),b=n(46),m=n(17),x=n(16),f=n(53);var O=function(e){var t=e.line,n="M ".concat(t.map((function(e){return"".concat(e.get("x")," ").concat(e.get("y"))})).join(" L "));return Object(s.jsx)("path",{d:n})};var v=function(e){var t=e.lines;return Object(s.jsx)("svg",{children:t.map((function(e,t){return console.log("[Drawing]","M ".concat(e.map((function(e){return"".concat(e.get("x")," ").concat(e.get("y"))})).join(" L "))),Object(s.jsx)(O,{line:e},t)}))})},g=n(186),w=n.n(g),_=(a.Component,n(20)),S=n(8),q=n(73),C=n.n(q),N=n(19),k=n(95),M="RESET",T="LOAD_QUESTIONS",R="START",A="CORRECT",B="WRONG",I="WIN",H="COMPLETE",L="SET_MULTIPLAYER",Q=n(532),E=n(96),D=n.n(E),P=n(187),F=function(e){return e>=100},G=function(e){return e>=20&&e<=99},W=[{number:1e12,text:"trillion"},{number:1e9,text:"billion"},{number:1e6,text:"million"},{number:1e3,text:"thousand"},{number:100,text:"hundred"},{number:90,text:"ninety"},{number:80,text:"eighty"},{number:70,text:"seventy"},{number:60,text:"sixty"},{number:50,text:"fifty"},{number:40,text:"forty"},{number:30,text:"thirty"},{number:20,text:"twenty"},{number:19,text:"nineteen"},{number:18,text:"eighteen"},{number:17,text:"seventeen"},{number:16,text:"sixteen"},{number:15,text:"fifteen"},{number:14,text:"fourteen"},{number:13,text:"thirteen"},{number:12,text:"twelve"},{number:11,text:"eleven"},{number:10,text:"ten"},{number:9,text:"nine"},{number:8,text:"eight"},{number:7,text:"seven"},{number:6,text:"six"},{number:5,text:"five"},{number:4,text:"four"},{number:3,text:"three"},{number:2,text:"two"},{number:1,text:"one"},{number:0,text:"zero"}],K=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)return"";var s,a,r,i,c=n.ands||!1,o=n.commas?",":"",l=c?"".concat("and"," "):"",u="",p=parseInt(t,10);if(isNaN(p))return"not a number";if(!isFinite(p))return"infinity";p<0&&(u+="negative ",p*=-1);var d,j=Object(P.a)(W);try{for(j.s();!(d=j.n()).done;){var y=d.value,h=y.number,b=y.text;if(p===h)return F(h)&&(u+="one "),u+=b;if(p>h){r=h,i=b;break}}}catch(m){j.e(m)}finally{j.f()}return(1!==(s=Math.floor(p/r))||F(r))&&(u+="".concat(e(s,n)," ")),u+=i,(a=p-s*r)>0&&G(r)?u+="-":u+=r>=1e3&&a>0&&a<100?"".concat(o," ").concat(l):r>=1e3&&a>0?"".concat(o," "):100===r&&a>0?" ".concat(l):" ",a>0&&(u+=e(a,n)),u.trim()},Y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=e.type;e.nos,e.digits,e.inwords;return"+-"===s||"+-x"===s?ee(e):"x"===s?X(e):"/"===s?U(e):"X2"===s?J(e):"x/y"===s?z(e):["WORD","MONEY","FILL","CONVERSIONS"].includes(s)?Z(e,t,n):["TIMEHRS+-"].includes(s)?se(e):["TIME+-"].includes(s)?te(e):["BAL"].includes(s)?V(e):{question:"",questions:[],answers:[],answer:""}},V=function(e){var t="",n=[],s=[],a=0,r=(e.type,e.nos),i=(e.digits,e.inwords),c=e.level;e.decimals;for(var o=0;o<r;o+=1){var l=99;re(0,1)&&(l=9);var u=re(1,l);if(i){if(i){var p=K(u),d="".concat(o<=0?"":" <u><i>|</i></u> ").concat(p);t="".concat(t).concat(d),n.push(d.replace("|",""))}}else{var j="".concat(o>0?"|":""," ").concat(u<10&&1===c?"&nbsp;".concat(u):u);t="".concat(t," ").concat(j),n.push(j.replace("|",""))}a=10*a+u,s.push(a)}return n.push("?"),{question:t,questions:n,answers:s,answer:a}},X=function(e){e.type;var t=e.digits,n=e.inwords;e.tens,e.numbers,e.decimals;var s=Math.pow(10,t)-1,a=Math.pow(10,t-1)+1,r=Math.pow(10,2)-1,i=Math.pow(10,1)+1,c=re(a,s),o=re(i,r),l=o*c,u="";return n?n&&(u="".concat(K(c)," X ").concat(K(o))):u="".concat(c," X ").concat(o),{question:u,questions:[],answer:l}},U=function(e){e.type;var t=e.digits,n=e.inwords;e.tens,e.decimals;var s=Math.pow(10,t)-1,a=Math.pow(10,t-1)+1,r=re(a,s),i=re(2,9),c=r*i,o="";return n?n&&(o="".concat(K(c)," X ").concat(K(i))):o="".concat(c," / ").concat(i),{question:o,questions:[],answer:r}},z=function(e){e.type;var t=e.digits,n=(e.inwords,Math.pow(10,t+1)-1),s=Math.pow(10,t)+1,a=Math.pow(10,t)-1,r=Math.pow(10,t-1)+1,i=re(s,n),c=re(r,a),o=i*c,l=re(r,a,[c]),u=i*l;return{question:o="<sup>".concat(l,"</sup>&frasl;<sub>").concat(c,"</sub> of ").concat(o),questions:[],answer:u}},J=function(e){var t,n="",s=(e.type,e.digits),a=e.inwords,r=e.tens,i=e.decimals,c=void 0===i?0:i;a&&(c=0);var o=s+c,l=Math.pow(10,o)-1;"Y"===r&&2===o&&(l=19);var u=Math.pow(10,o-1)+1;if(t=re(u,l),a){if(a){var p=K(t);n="".concat(p,"<sup>2</sup>")}}else n="".concat(t,"<sup>2</sup>");return{question:n,questions:[],answers:[],answer:t*t}},Z=function(e,t,n){var s=e.type,a=(e.nos,e.digits),r=e.inwords,i=t[s],c=ie(n),o=i[c],l=e.decimals,u=void 0===l?0:l;r&&(u=0);for(var p=a+u,d=Math.pow(10,p)-1,j=Math.pow(10,p-1)+1,y=(o.question,{}),h=0;h in o;h+=1)y[h]=o[h];Object.keys(y).sort().forEach((function(e){var t=Object(S.a)({},y),n=y[e],s="";console.log("[QuestionGenerator]generatewordsQuestion",n),n instanceof Object?(t.val="list"in n?ie(n.list):re("min"in n?n.min:j,"max"in n?n.max:d),s=le(n.val,t)):n.indexOf("{val}")>-1&&(t.val=re(j,d),s=le(n,t));var a=oe(s);y[e]=$(a)}));var b=oe(le(o.answer,y)),m=le(o.question,y);return{answer:$(b),question:m,questions:[],questionno:c}},$=function(e){return Math.round(100*e)/100},ee=function(e){var t=0,n="",s=[],a=[],r=0,i=e.type,c=e.nos,o=e.digits,l=e.inwords,u=e.level,p=e.decimals,d=void 0===p?0:p;l&&(d=0);for(var j=[],y=o+d,h=!1,b=-999,m=0;m<c;m+=1){console.log("Number generating i: ,".concat(m));var x=i,f="+";f=0===m||r<Math.pow(10,y-1)?"+":(r>=100||r<=10)&&"+-x"===i&&o>1||r>10&&"+-x"===i&&1===o?ce("+-"):m>1&&"+-x"===i&&!j.includes("x")&&r>9&&r<100&&o>1||m>1&&"+-x"===i&&!j.includes("x")&&r<10&&1===o?"x":ce(x),h||2!==u||m!==c-1||(f="+"),j.push(f);var O=Math.pow(10,y)-1,v=Math.pow(10,y-1)+1;if("x"===f?(v=2,O=9):"-"===f&&O>r&&(O=r),h||2!==u||m!==c-1?t=re(v,O):(v=Math.pow(10,o)-r,t=re(v,v+Math.pow(10,o))),t===b)m-=1;else{b=t;var g="";if("+"===f||"-"===f?r+=("+"===f?1:-1)*t:"x"===f&&(r*=t),!h&&2===u&&r.toString().length>o&&(h=!0),l){if(l){var w=K(t);g="".concat(m<=0?"":"+"===f?" <u><i>plus</i></u> ":"-"===f?" <u><i>minus</i></u> ":" <u><i>times</i></u> ").concat(w),n="".concat(n).concat(g),s.push(g.replace("+",""))}}else g="".concat(m>0?f:""," ").concat(t/(0===d?1:Math.pow(10,d))),n="".concat(n," ").concat(g),s.push(g.replace("+",""));a.push(r)}}return r/=0===d?1:Math.pow(10,d),s.push("?"),{question:n,questions:s,answer:r,answers:a}},te=function(e){e.type,e.nos,e.digits;var t=e.HR24,n=e.level,s=e.inwords,a="Y"===t?re(0,23):re(1,12),r=0;1===n?r=ie(["0","15","30","45"]):2===n||3===n?r=ie(["0","10","15","20","25","30","35","40","45","50","55"]):4===n&&(r=re(0,59));var i=ae(a,r),c=(ce("+-"),""),o="";1===n?c=ie(["15","30","45"]):2===n||3===n?c=ie(["10","15","20","25","30","35","40","45","50","55"]):4===n&&(c=re(1,59)),n>2&&(o=re(1,10));var l=D()(i,"Y"===t?"HH:mm":"hh:mm"),u=D()(i,"Y"===t?"HH:mm":"hh:mm").subtract({hours:o,minutes:c}),p="How many minutes from ".concat(u.format("Y"===t?"HH:mm":"hh:mm")," and  ").concat(i,"?");if(s){var d=ne(l,t),j=ne(u,t);p="How many minutes from <u><i>".concat(j,"</u></i> and  <u><i>").concat(d,"</u></i>?")}return{question:p,questions:"",answers:"",answer:"".concat(o,":").concat(c)}},ne=function(e,t){var n="",s="Y"===t?"HH":"hh";if(0===+e.format("mm"))n="".concat(K(+e.format(s))," o'clock");else if(30===+e.format("mm"))n="Half Past ".concat(K(+e.format(s)));else if(+e.format("mm")<30)n="".concat(K(e.format("mm"))," min past ").concat(K(+e.format("HH")));else if(+e.format("mm")>30){var a=+e.format(s)+1;a="Y"===t&&24===a?"0":a,a="Y"!==t&&13===a?"1":a,n="".concat(K(60-e.format("mm"))," min to ").concat(K(a))}return n},se=function(e){e.type,e.nos,e.digits;var t=e.HR24,n=e.level,s=e.inwords,a="Y"===t?re(0,23):re(1,12),r=0;1===n?r=ie(["0","15","30","45"]):2===n||3===n?r=ie(["0","10","15","20","25","30","35","40","45","50","55"]):4===n&&(r=re(0,59));var i=ae(a,r),c=ce("+-"),o="",l="";1===n?o=ie(["15","30","45"]):2===n||3===n?o=ie(["10","15","20","25","30","35","40","45","50","55"]):4===n&&(o=re(1,59)),n>2&&(l=re(1,10));var u=new D.a(i,"Y"===t?"HH:mm":"hh:mm"),p="".concat(i," ").concat(c," ").concat(l," ").concat(l?"hrs":""," ").concat(o," min");if(s){var d=ne(u,t);p="".concat(d," ").concat("+"===c?" <u><i>plus</i></u> ":" <u><i>minus</i></u> "," ").concat(K(l)," ").concat(l?"hrs":""," ").concat(K(o)," mins")}"+"===c?u=u.add({hours:l,minutes:o}):"-"===c&&(u=u.subtract({hours:l,minutes:o}));return{question:p,questions:"",answers:"",answer:u.format("Y"===t?"HH:mm":"hh:mm")}},ae=function(e,t){return"".concat(e<10?"0":"").concat(e,":").concat(t<10?"0":"").concat(t)},re=function(e,t){var n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];do{n=Math.floor(Math.random()*(t-e+1)+e)}while(s.indexOf(n)>-1);return n},ie=function(e){return e[Math.floor(Math.random()*e.length)]},ce=function(e){var t=e.split("");return t[re(0,t.length-1)]},oe=function(e){return Q.a(e)},le=function(e,t){var n=e;return n=n.replace(/{\w+}/g,(function(e){return t[e.replace("{","").replace("}","")]}))},ue=n(131);ue.a.initializeApp({apiKey:"AIzaSyDgKDrBQ_-BRnVOuUlqLd7hx1w0R9bBnrA",authDomain:"math-race-7ea5f.firebaseapp.com",projectId:"math-race-7ea5f",storageBucket:"math-race-7ea5f.appspot.com",messagingSenderId:"793417309877",appId:"1:793417309877:web:6764942ec5b237291a68fc"});ue.a;var pe=n(189),de=n.n(pe).a.create({baseURL:"https://math-race-7ea5f-default-rtdb.europe-west1.firebasedatabase.app"}),je=function(){return{type:M}},ye=function(e,t,n,s){return function(){var a=Object(k.a)(C.a.mark((function a(r,i){var c,o,l,u,p,d,j,y,h;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c=n,o=s,i().game.questions||!(["WORD","MONEY","FILL","CONVERSIONS"].includes(c.type)||o&&["WORD","MONEY","FILL","CONVERSIONS"].includes(o.type))){a.next=14;break}return l={},a.next=6,de.get("/questions.json");case 6:return u=a.sent,a.next=9,u;case 9:return p=a.sent,d=p.data,Object.keys(d).forEach((function(e){var t=[];d[e].forEach((function(e,n){e.active&&"N"===e.active||t.push(Object(S.a)({id:n},e))})),l[e]=t})),a.next=14,r({type:T,questions:l});case 14:j={},y=[],t&&(["WORD","MONEY","FILL","CONVERSIONS"].includes(s.type)&&(o.points=y.length,y=Object(N.a)(Array(i().game.wordquestions[o.type].length).keys())),j=Object(S.a)({},Y(o,i().game.wordquestions,y))),h=[],["WORD","MONEY","FILL","CONVERSIONS"].includes(n.type)&&(h=Object(N.a)(Array(i().game.wordquestions[c.type].length).keys()),c.points=h.length),r({type:R,players:[Object(S.a)(Object(S.a)({id:0,name:e,points:0,wrong:0},Y(c,i().game.wordquestions,h)),{},{answerresult:"",questiontype:c,wordquestionsindexs:h}),Object(S.a)(Object(S.a)({id:1,name:t,points:0,wrong:0},j),{},{answerresult:"",questiontype:o,wordquestionsindexs:y})]});case 20:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},he=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,s){var a=s().game.players[e],r=a.questionno,i=(a.questiontype,s().game.players[e].wordquestionsindexs),c=i.indexOf(r);c>-1&&i.splice(c,1),n(Object(S.a)(Object(S.a)({type:A,isCorrect:t,playerno:e},Y(s().game.players[e].questiontype,s().game.wordquestions,i)),{},{wordquestionsindexs:i}))}},be=function(e){return function(t,n){var s=n().game.players[e].wordquestionsindexs;t(Object(S.a)({type:B,playerno:e},Y(n().game.players[e].questiontype,n().game.wordquestions,s)))}},me=function(){return{type:H}},xe=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{playerno:e,type:I,isCorrect:t}},fe=n(13),Oe=n(62),ve=function(e){Object(m.a)(n,e);var t=Object(x.a)(n);function n(e){var s;Object(y.a)(this,n),(s=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t=s.form,n=(t.player0,t.player1,t.digits0),a=t.numbers0,r=t.decimals0,i=t.type0,c=t.points0,o=t.inwords0,l=t.digits1,u=t.numbers1,p=t.decimals1,d=t.type1,j=t.points1,y=t.inwords1,h=t.tens0,b=t.tens1,m=t.delay0,x=t.delay1,f=t.level0,O=t.level1,v=t.HR240,g=t.HR241,w={type:i.value,nos:+a.value,digits:+n.value,decimals:["+-"].includes(i.value)?+r.value:0,points:+c.value,delay:["+-","+-x"].includes(i.value)?+m.value:0,tens:h.value,HR24:v.value,level:+f.value,inwords:"true"===o.value},_={type:d.value,nos:+u.value,digits:+l.value,points:+j.value,decimals:["+-"].includes(d.value)?+p.value:0,delay:["+-","+-x"].includes(d.value)?+x.value:0,tens:b.value,HR24:g.value,level:+O.value,inwords:"true"===y.value};s.props.start(s.state.player0,s.state.player1,w,_),s.props.history.push("/math-race/play")};var a=[e.players&&e.players[0].name||"Hasana",e.players&&e.players[1].name||""],r=[e.players&&e.players[0].questiontype.type||"+-",e.players&&e.players[1].questiontype.type||"+-"],i=[e.players&&e.players[0].questiontype.digits||"2",e.players&&e.players[1].questiontype.digits||"2"];return s.state={type0:r[0],type1:r[1],digits0:i[0],digits1:i[1],player0:a[0],player1:a[1]},s}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=(this.props.players&&this.props.players[0].name,this.props.players&&this.props.players[1].name,[1,0].map((function(t){var n=e.props.players[t],a=(n.name,n.questiontype);return Object(s.jsx)("div",{className:Oe.Race,children:Object(s.jsx)("div",{className:Oe.MultiplayerSetup,children:Object(s.jsxs)("div",{style:{display:e.state["player".concat(t)]?"flex":"none"},className:Oe.Options,children:[Object(s.jsx)("h2",{children:e.state["player".concat(t)]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Type"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"type".concat(t),value:"+-",onChange:function(n){return e.setState(Object(fe.a)({},"type".concat(t),n.currentTarget.value))},defaultChecked:"+-"===a.type}),Object(s.jsx)("label",{children:"+-"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"type".concat(t),value:"x",onChange:function(n){return e.setState(Object(fe.a)({},"type".concat(t),n.currentTarget.value))},defaultChecked:"x"===a.type}),Object(s.jsx)("label",{children:"x"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"type".concat(t),value:"/",onChange:function(n){return e.setState(Object(fe.a)({},"type".concat(t),n.currentTarget.value))},defaultChecked:"/"===a.type}),Object(s.jsx)("label",{children:"/"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"type".concat(t),value:"+-x",onChange:function(n){return e.setState(Object(fe.a)({},"type".concat(t),n.currentTarget.value))},defaultChecked:"+-x"===a.type}),Object(s.jsx)("label",{children:"+-x"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"type".concat(t),value:"X2",onChange:function(n){return e.setState(Object(fe.a)({},"type".concat(t),n.currentTarget.value))},defaultChecked:"X2"===a.type}),Object(s.jsxs)("label",{children:["X",Object(s.jsx)("sup",{children:"2"})]})]}),Object(s.jsxs)("div",{className:Oe.ExtraWide,children:[Object(s.jsx)("input",{type:"radio",name:"type".concat(t),value:"TIMEHRS+-",onChange:function(n){return e.setState(Object(fe.a)({},"type".concat(t),n.currentTarget.value))},defaultChecked:"TIMEHRS+-"===a.type}),Object(s.jsx)("label",{children:"TIMEHRS+-"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"type".concat(t),value:"FILL",onChange:function(n){return e.setState(Object(fe.a)({},"type".concat(t),n.currentTarget.value))},defaultChecked:"FILL"===a.type}),Object(s.jsx)("label",{children:"Fill"})]})]}),Object(s.jsxs)("div",{style:{display:"flex"},children:[Object(s.jsxs)("div",{style:{display:["+-","x/y","+-x","x","/","X2","WORD","FILL","MONEY"].includes(e.state["type".concat(t)])?"flex":"none"},children:[Object(s.jsx)("h2",{children:"Digits"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"digits".concat(t),onChange:function(n){return e.setState(Object(fe.a)({},"digits".concat(t),n.currentTarget.value))},value:"1",defaultChecked:1===a.digits}),Object(s.jsx)("label",{children:"1"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"digits".concat(t),onChange:function(n){return e.setState(Object(fe.a)({},"digits".concat(t),n.currentTarget.value))},value:"2",defaultChecked:2===a.digits}),Object(s.jsx)("label",{children:"2"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"digits".concat(t),onChange:function(n){return e.setState(Object(fe.a)({},"digits".concat(t),n.currentTarget.value))},value:"3",defaultChecked:3===a.digits}),Object(s.jsx)("label",{children:"3"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"digits".concat(t),onChange:function(n){return e.setState(Object(fe.a)({},"digits".concat(t),n.currentTarget.value))},value:"4",defaultChecked:4===a.digits}),Object(s.jsx)("label",{children:"4"})]})]}),Object(s.jsxs)("div",{style:{marginLeft:"0px",display:["+-","+-x"].includes(e.state["type".concat(t)])?"flex":"none"},children:[Object(s.jsx)("h2",{children:"Numbers"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"numbers".concat(t),value:"2",defaultChecked:2===a.nos}),Object(s.jsx)("label",{children:"2"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"numbers".concat(t),value:"3",defaultChecked:3===a.nos}),Object(s.jsx)("label",{children:"3"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"numbers".concat(t),value:"4",defaultChecked:4===a.nos}),Object(s.jsx)("label",{children:"4"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"numbers".concat(t),value:"5",defaultChecked:5===a.nos}),Object(s.jsx)("label",{children:"5"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"numbers".concat(t),value:"10",defaultChecked:10===a.nos}),Object(s.jsx)("label",{children:"10"})]})]})]}),Object(s.jsxs)("div",{style:{display:2===e.state["digits".concat(t)]&&["X2"].includes(e.state["type".concat(t)])?"flex":"none"},children:[Object(s.jsx)("h2",{children:"Tens only"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"tens".concat(t),value:"Y",defaultChecked:"Y"===a.tens}),Object(s.jsx)("label",{children:"Yes"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"tens".concat(t),value:"N",defaultChecked:"N"===a.tens}),Object(s.jsx)("label",{children:"No"})]})]}),Object(s.jsxs)("div",{style:{display:["TIMEHRS+-"].includes(e.state["type".concat(t)])?"flex":"none"},children:[Object(s.jsx)("h2",{children:"24Hr"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"HR24".concat(t),value:"Y",defaultChecked:"Y"===a.HR24}),Object(s.jsx)("label",{children:"Yes"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"HR24".concat(t),value:"N",defaultChecked:"N"===a.HR24}),Object(s.jsx)("label",{children:"No"})]})]}),Object(s.jsxs)("div",{style:{display:["TIMEHRS+-"].includes(e.state["type".concat(t)])?"flex":"none"},children:[Object(s.jsx)("h2",{children:"Level"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"level".concat(t),value:"1",defaultChecked:1===a.level}),Object(s.jsx)("label",{children:"1"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"level".concat(t),value:"2",defaultChecked:2===a.level}),Object(s.jsx)("label",{children:"2"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"level".concat(t),value:"3",defaultChecked:3===a.level}),Object(s.jsx)("label",{children:"3"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"level".concat(t),value:"4",defaultChecked:4===a.level}),Object(s.jsx)("label",{children:"4"})]})]}),Object(s.jsxs)("div",{style:{display:["+-","+-x"].includes(e.state["type".concat(t)])?"flex":"none"},children:[Object(s.jsx)("h2",{children:"Delay"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"delay".concat(t),value:"0",defaultChecked:0===a.delay}),Object(s.jsx)("label",{children:"-"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"delay".concat(t),value:"1",defaultChecked:1===a.delay}),Object(s.jsx)("label",{children:"1s"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"delay".concat(t),value:"2",defaultChecked:2===a.delay}),Object(s.jsx)("label",{children:"2s"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"delay".concat(t),value:"3",defaultChecked:3===a.delay}),Object(s.jsx)("label",{children:"3s"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"delay".concat(t),value:"4",defaultChecked:4===a.delay}),Object(s.jsx)("label",{children:"4s"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"delay".concat(t),value:"5",defaultChecked:5===a.delay}),Object(s.jsx)("label",{children:"5s"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"delay".concat(t),value:"6",defaultChecked:6===a.delay}),Object(s.jsx)("label",{children:"6s"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"delay".concat(t),value:"7",defaultChecked:7===a.delay}),Object(s.jsx)("label",{children:"7s"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"delay".concat(t),value:"8",defaultChecked:8===a.delay}),Object(s.jsx)("label",{children:"8s"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"delay".concat(t),value:"9",defaultChecked:9===a.delay}),Object(s.jsx)("label",{children:"9s"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"delay".concat(t),value:"10",defaultChecked:10===a.delay}),Object(s.jsx)("label",{children:"10s"})]})]}),Object(s.jsxs)("div",{style:{display:"flex"},children:[Object(s.jsxs)("div",{style:{display:"flex"},children:[Object(s.jsx)("h2",{children:"In Words"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"inwords".concat(t),value:"true",defaultChecked:!!a.inwords}),Object(s.jsx)("label",{children:"Yes"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"inwords".concat(t),value:"false",defaultChecked:!a.inwords}),Object(s.jsx)("label",{children:"No"})]})]}),Object(s.jsxs)("div",{style:{marginLeft:"100px",display:"+-"===e.state["type".concat(t)]?"flex":"none"},children:[Object(s.jsx)("h2",{children:"Decimals"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"decimals".concat(t),value:"0",defaultChecked:0===a.decimals}),Object(s.jsx)("label",{children:"0"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"decimals".concat(t),value:"1",defaultChecked:1===a.decimals}),Object(s.jsx)("label",{children:"1"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"decimals".concat(t),value:"2",defaultChecked:2===a.decimals}),Object(s.jsx)("label",{children:"2"})]})]})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Points"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"points".concat(t),value:"1",defaultChecked:1===a.points}),Object(s.jsx)("label",{children:"1"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"points".concat(t),value:"5",defaultChecked:5===a.points}),Object(s.jsx)("label",{children:"5"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"points".concat(t),value:"10",defaultChecked:10===a.points}),Object(s.jsx)("label",{children:"10"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"points".concat(t),value:"15",defaultChecked:15===a.points}),Object(s.jsx)("label",{children:"15"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"points".concat(t),value:"20",defaultChecked:20===a.points}),Object(s.jsx)("label",{children:"20"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"points".concat(t),value:"25",defaultChecked:25===a.points}),Object(s.jsx)("label",{children:"25"})]})]})]})})},t)})));return Object(s.jsx)(a.Fragment,{children:Object(s.jsxs)("form",{onSubmit:this.handleSubmit,ref:function(t){e.form=t},children:[Object(s.jsx)("h2",{style:{textAlign:"center"},children:"Maths Race"}),Object(s.jsx)("div",{children:t}),Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{type:"submit",value:"Start",className:["w3-btn","w3-round-large",Oe.BtnGo].join(" "),children:"Start >>"}),Object(s.jsx)("button",{type:"button",value:"Home",onKeyPress:function(t){return e.props.history.push("/math-race")},onClick:function(t){return e.props.history.push("/math-race")},className:["w3-btn","w3-round-large",Oe.BtnGo].join(" "),children:"< < Home"})]})]})})}}]),n}(a.PureComponent),ge=Object(l.b)((function(e){return{players:e.game.players}}),(function(e){return{start:function(t,n,s,a){return e(ye(t,n,s,a))}}}))(ve),we=n(533),_e=n(39),Se=n(7),qe=n.n(Se);n(83);var Ce=n(190);var Ne=function(e){return e.show?Object(s.jsx)("div",{className:Ce.Backdrop,onClick:e.clicked,onKeyPress:e.clicked,role:"button",tabIndex:"0"}):Object(s.jsx)(a.Fragment,{})},ke=n(191);var Me=function(e){return e.show?Object(s.jsxs)(a.Fragment,{children:[Object(s.jsx)(Ne,{show:e.show,clicked:e.modelClosed}),Object(s.jsx)("div",{className:ke.Modal,style:{transform:e.show?"translateY(0)":"translateY(-100vh)",opacity:e.show?"1":"0"},children:e.children})]}):Object(s.jsx)(a.Fragment,{})},Te=n.p+"static/media/success.9e3ceb9f.mp3",Re=n.p+"static/media/wrong.a523fd75.mp3",Ae=n.p+"static/media/movingfish.b08d01f0.mp3",Be=n.p+"static/media/click.8515d2a4.mp3",Ie=n.p+"static/media/claps.fd683cd7.mp3",He=function(e){Object(m.a)(n,e);var t=Object(x.a)(n);function n(e){var s;return Object(y.a)(this,n),(s=t.call(this,e)).success=new _e.Howl({src:Te,volume:1}),s.wrong=new _e.Howl({src:Re,volume:1}),s.click=new _e.Howl({src:Be,volume:1}),s.movingfish=new _e.Howl({src:Ae,volume:1}),s.claps=new _e.Howl({src:Ie,volume:1}),s.timers=[],s.state={closedisplay:!1,question:"",fullquestion:"",qcounter:0},s.animateNextQuestion=function(e){var t=setTimeout((function(){s.state.qcounter>=e.questions.length||(s.setState((function(t){return{qcounter:t.qcounter+1,question:e.questions[t.qcounter],fullquestion:e.question}})),s.animateNextQuestion(e))}),1e3*e.questiontype.delay);s.timers.push(t)},s.displayQuestion=function(e,t){var n;(n=t>=e.questions.length?e.questions.length-1:t)>=e.questions.length||n<0||(console.log("[displayquestion]",n),s.setState((function(t){return{qcounter:n+1,question:e.questions[n],fullquestion:e.question}})),s.animateNextQuestion(e))},s.nextQuestion=function(){s.clearTimer(),console.log("[nextquestion]",s.state.qcounter);var e=s.props.players[s.props.playerno];s.displayQuestion(e,s.state.qcounter)},s.prevQuestion=function(){s.clearTimer();var e=s.props.players[s.props.playerno];console.log("[nextquestion]",s.state.qcounter),s.displayQuestion(e,s.state.qcounter-2)},s.buttonTheme=function(){return"1"===s.props.playerno?"w3-ripple w3-hover-indigo w3-indigo":"w3-ripple w3-hover-red w3-pink"},s.sectionTheme=function(){return"1"===s.props.playerno?"w3-indigo":"w3-pink"},s.goClick=function(){var e=s.props.players[s.props.playerno],t=s.correctRef.current,n=s.questionRef.current,a=s.wrongRef.current;if(s.inputAnswer.value){s.clearTimer();var r=s.inputAnswer.value;if(e.questiontype.decimals>0&&(r=(+s.inputAnswer.value).toFixed(2).replace(/(\.0+|0+)$/,"")),String(r).replace(/^0+/,"")==String(e.answer).replace(/^0+/,"")){if(e.points===e.questiontype.points-1)return s.success.play(),s.movingfish.play(),s.props.win(s.props.playerno),void setTimeout((function(){s.props.complete(s.props.playerno),s.props.history.push("/math-race/complete"),s.claps.play()}),2e3);n.classList.remove(qe.a.ShowQuestion),t.classList.add(qe.a.MessageAnimate),n.classList.add(qe.a.HideQuestion),setTimeout((function(){s.props.nextQuestion(s.props.playerno),s.inputAnswer.value="",t.classList.remove(qe.a.MessageAnimate),n.classList.remove(qe.a.HideQuestion),n.classList.add(qe.a.ShowQuestion)}),1e3),s.success.play(),s.movingfish.play()}else a.classList.add(qe.a.MessageAnimate),setTimeout((function(){s.props.wrongAnswer(s.props.playerno),s.inputAnswer.value="",a.classList.remove(qe.a.MessageAnimate)}),1e3),s.wrong.play()}},s.clearTimer=function(){s.timers.forEach((function(e){clearInterval(e)}))},s.restart=function(){var e=s.props.players[s.props.playerno];s.clearTimer(),s.setState({question:"",fullquestion:e.question}),s.displayQuestion(e,0)},s.appendAnswer=function(e){"<"===e?s.inputAnswer.value=s.inputAnswer.value.slice(0,-1):s.inputAnswer.value+="".concat(e),s.click.play()},s.reset=function(){s.props.reset(),s.props.history.push("/math-race/setup")},s.correctRef=r.a.createRef(),s.wrongRef=r.a.createRef(),s.questionRef=r.a.createRef(),s}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.players[this.props.playerno];0===e.questiontype.delay?this.setState({question:e.question,fullquestion:e.question}):this.displayQuestion(e,0)}},{key:"componentDidUpdate",value:function(){var e=this.props.players[this.props.playerno];e.question!==this.state.fullquestion&&(0===e.questiontype.delay?this.setState({question:e.question,fullquestion:e.question}):this.displayQuestion(e,0))}},{key:"render",value:function(){var e=this,t=this.props.players[this.props.playerno];console.log("[PlayerSection] render",this.props.playerno,t.answer,t.question,"questions",t.questions);var n=Object(s.jsxs)(a.Fragment,{children:[Object(s.jsx)("div",{ref:this.correctRef,className:[qe.a.DisplayMessage,qe.a.Correct].join(" "),children:Object(s.jsx)("i",{style:{margin:"5px"},className:"fa fa-check"})}),Object(s.jsx)("div",{ref:this.wrongRef,className:[qe.a.DisplayMessage,qe.a.Wrong].join(" "),children:t.answer})]});return Object(s.jsxs)("div",{className:["0"===this.props.playerno?qe.a._0:qe.a._1].join(" "),children:[Object(s.jsxs)(Me,{show:!!this.state.closedisplay,modelClosed:function(){return e.setState({closedisplay:!1})},children:[Object(s.jsx)("span",{children:"Do you want to exit the game?"}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("a",{role:"button",onClick:this.reset,tabIndex:0,onKeyPress:this.reset,style:{margin:"10px"},className:["w3-button","w3-round-large",this.buttonTheme()].join(" "),children:[" ","Restart"]}),Object(s.jsxs)("a",{role:"button",onClick:function(){return e.setState({closedisplay:!1})},tabIndex:0,onKeyPress:function(){return e.setState({closedisplay:!1})},style:{margin:"10px"},className:["w3-button","w3-round-large","w3-grey"].join(" "),children:[" ","Cancel"]})]})]}),n,Object(s.jsx)("div",{className:[qe.a.PlayerCharacter].join(" "),children:Object(s.jsx)("img",{style:{position:"absolute",transform:0===+this.props.playerno?"scaleX(1)":"rotateX(180deg)",transition:"2s",left:"".concat(t.points*(90/+t.questiontype.points),"vw")},alt:this.props.playerno,className:[qe.a.PlayerCharacter,1===this.props.playerno?qe.a._1:qe.a._2].join(" "),height:"auto",width:"100px",src:"".concat("/math-race","/images/Fish_").concat(this.props.playerno,".svg")})}),Object(s.jsxs)("div",{className:qe.a.QuestionBar,children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{className:[this.sectionTheme()].join(" "),children:Object(s.jsx)("span",{className:[qe.a.PlayerName].join(" "),children:t.name})}),Object(s.jsxs)("span",{style:{position:"relative"},className:[this.sectionTheme()].join(" "),children:[Object(s.jsxs)("span",{className:["fa-stack",qe.a.Score].join(" "),children:[Object(s.jsx)("span",{className:["fa fa-star fa-stack-2x"].join(" ")}),Object(s.jsx)("strong",{className:"fa-stack-1x",style:{color:"#000"},children:t.points})]}),Object(s.jsx)("div",{children:Object(s.jsx)("a",{role:"button",onClick:function(){return e.setState({closedisplay:!0})},tabIndex:0,onKeyPress:function(){return e.setState({closedisplay:!0})},className:qe.a.Close,children:Object(s.jsx)("i",{className:"fa fa-window-close"})})})]})]}),Object(s.jsxs)("span",{ref:this.questionRef,className:qe.a.Question,children:[Object(s.jsx)(we.a,{classNames:"question",timeout:200,children:Object(s.jsx)("div",{children:Object(s.jsx)("span",{style:{display:"inline-block",fontSize:"2.5em"},dangerouslySetInnerHTML:{__html:this.state.question}})})}),Object(s.jsxs)("div",{className:qe.a.Refresh,children:[Object(s.jsx)("a",{className:["w3-btn","w3-round-large",this.buttonTheme(),qe.a.BtnNumber].join(" "),style:{display:0===t.questiontype.delay?"none":"flex"},role:"button",onClick:this.prevQuestion,tabIndex:0,onKeyPress:this.prevQuestion,children:Object(s.jsx)("i",{className:"fa fa-long-arrow-left"})}),Object(s.jsx)("a",{className:["w3-btn","w3-round-large",this.buttonTheme(),qe.a.BtnNumber].join(" "),style:{display:0===t.questiontype.delay?"none":"flex"},role:"button",onClick:this.nextQuestion,tabIndex:0,onKeyPress:this.nextQuestion,children:Object(s.jsx)("i",{className:"fa fa-long-arrow-right"})}),Object(s.jsx)("a",{className:["w3-btn","w3-round-large",this.buttonTheme(),qe.a.BtnNumber].join(" "),style:{display:0===t.questiontype.delay?"none":"flex"},role:"button",onClick:this.restart,tabIndex:0,onKeyPress:this.restart,children:Object(s.jsx)("i",{className:"fa fa-refresh"})})]}),Object(s.jsx)("input",{ref:function(t){e.inputAnswer=t},onKeyDown:function(){return!1},onKeyPress:function(){return!1},onKeyUp:function(){return!1},type:"text",maxLength:"7",className:["w3-btn","w3-round-large",this.sectionTheme(),qe.a.Answer].join(" ")})]})]}),Object(s.jsxs)("div",{className:qe.a.ButtonBar,children:[Object(s.jsx)("button",{type:"button","data-playerno":this.props.playerno,onClick:function(){return e.appendAnswer("1")},className:["w3-button","w3-round-large",this.buttonTheme(),qe.a.BtnNumber].join(" "),children:"1"}),Object(s.jsx)("button",{type:"button","data-playerno":this.props.playerno,onClick:function(){return e.appendAnswer("2")},className:["w3-btn","w3-round-large",this.buttonTheme(),qe.a.BtnNumber].join(" "),children:"2"}),Object(s.jsx)("button",{type:"button","data-playerno":this.props.playerno,onClick:function(){return e.appendAnswer("3")},className:["w3-btn","w3-round-large",this.buttonTheme(),qe.a.BtnNumber].join(" "),children:"3"}),Object(s.jsx)("button",{type:"button","data-playerno":this.props.playerno,onClick:function(){return e.appendAnswer("4")},className:["w3-btn","w3-round-large",this.buttonTheme(),qe.a.BtnNumber].join(" "),children:"4"}),Object(s.jsx)("button",{type:"button","data-playerno":this.props.playerno,onClick:function(){return e.appendAnswer("5")},className:["w3-btn","w3-round-large",this.buttonTheme(),qe.a.BtnNumber].join(" "),children:"5"}),Object(s.jsx)("button",{type:"button","data-playerno":this.props.playerno,onClick:function(){return e.appendAnswer("6")},className:["w3-btn","w3-round-large",this.buttonTheme(),qe.a.BtnNumber].join(" "),children:"6"}),Object(s.jsx)("button",{type:"button","data-playerno":this.props.playerno,onClick:function(){return e.appendAnswer("7")},className:["w3-btn","w3-round-large",this.buttonTheme(),qe.a.BtnNumber].join(" "),children:"7"}),Object(s.jsx)("button",{type:"button","data-playerno":this.props.playerno,onClick:function(){return e.appendAnswer("8")},className:["w3-btn","w3-round-large",this.buttonTheme(),qe.a.BtnNumber].join(" "),children:"8"}),Object(s.jsx)("button",{type:"button","data-playerno":this.props.playerno,onClick:function(){return e.appendAnswer("9")},className:["w3-btn","w3-round-large",this.buttonTheme(),qe.a.BtnNumber].join(" "),children:"9"}),Object(s.jsx)("button",{type:"button","data-playerno":this.props.playerno,onClick:function(){return e.appendAnswer("0")},className:["w3-btn","w3-round-large",this.buttonTheme(),qe.a.BtnNumber].join(" "),children:"0"}),Object(s.jsx)("button",{style:{display:["TIMEHRS+-"].includes(t.questiontype.type)?"none":"block"},type:"button","data-playerno":this.props.playerno,onClick:function(){return e.appendAnswer(".")},className:["w3-btn","w3-round-large",this.buttonTheme(),qe.a.BtnNumber].join(" "),children:"."}),Object(s.jsx)("button",{style:{display:["TIMEHRS+-"].includes(t.questiontype.type)?"block":"none"},type:"button","data-playerno":this.props.playerno,onClick:function(){return e.appendAnswer(":")},className:["w3-btn","w3-round-large",this.buttonTheme(),qe.a.BtnNumber].join(" "),children:":"}),Object(s.jsx)("button",{type:"button","data-playerno":this.props.playerno,onClick:function(){return e.appendAnswer("-")},className:["w3-btn","w3-round-large",this.buttonTheme(),qe.a.BtnNumber].join(" "),children:"-"}),Object(s.jsx)("button",{type:"button","data-playerno":this.props.playerno,onClick:function(){return e.appendAnswer("<")},className:["w3-btn","w3-round-large",this.buttonTheme(),qe.a.BtnNumber].join(" "),children:"<"}),Object(s.jsx)("button",{type:"button","data-playerno":this.props.playerno,onClick:function(t){return e.goClick(t.currentTarget.dataset.playerno)},className:["w3-btn","w3-round-large",this.buttonTheme(),qe.a.BtnGo].join(" "),children:"GO"})]})]})}}]),n}(a.PureComponent),Le=Object(l.b)((function(e){return{players:e.game.players}}),(function(e){return{reset:function(){return e(je())},nextQuestion:function(t){return e(he(t))},wrongAnswer:function(t){return e(be(t))},win:function(t){return e(xe(t))},complete:function(){return e(me())}}}))(He),Qe=(n(238),n(63));var Ee=function(e){var t=e.players[0].points>=e.players[1].points?e.players[0].name:e.players[1].name,n=function(){e.reset(),e.history.push("/math-race/setup")},r=Object(N.a)(e.players).reverse().map((function(e){if(!e.name)return Object(s.jsx)(a.Fragment,{},e.id);e.points,e.name;return Object(s.jsxs)("div",{children:[Object(s.jsxs)("h1",{children:[t===e.name?"Good Job":"Keep trying"," ",e.name]}),Object(s.jsxs)("span",{className:["fa-stack",Qe.Score].join(" "),children:[Object(s.jsx)("span",{className:["fa fa-star fa-stack-2x"].join(" ")}),Object(s.jsx)("strong",{className:"fa-stack-1x",children:e.points-(e.questiontype.testmode?e.wrong:0)}),Object(s.jsx)("span",{className:Qe.ScoreLabel,children:"Correct"})]}),Object(s.jsxs)("span",{className:["fa-stack",Qe.Score].join(" "),children:[Object(s.jsx)("span",{className:["fa fa-star fa-stack-2x"].join(" ")}),Object(s.jsx)("strong",{className:"fa-stack-1x",children:e.wrong}),Object(s.jsx)("span",{className:Qe.ScoreLabel,children:"Wrong"})]})]},e.id)}));return Object(s.jsxs)("div",{className:Qe.RaceComplete,children:[r,Object(s.jsx)("button",{type:"button",onClick:n,onKeyPress:n,className:["w3-btn","w3-round-large",Qe.BtnGo].join(" "),children:"Play Again >>"})]})},De=n(72);var Pe=function(e){var t=e.line,n="M ".concat(t.map((function(e){return"".concat(e.get("x")," ").concat(e.get("y"))})).join(" L "));return Object(s.jsx)("path",{className:De.path,d:n})};var Fe=function(e){var t=e.lines;return Object(s.jsx)("svg",{className:De.drawing,children:t.map((function(e,t){return Object(s.jsx)(Pe,{line:e},t)}))})},Ge=(a.Component,n(97)),We=function(e){Object(m.a)(n,e);var t=Object(x.a)(n);function n(e){var s;Object(y.a)(this,n),(s=t.call(this,e)).goNext=function(){var e=s.state.player1;s.state.multiplayer&&!s.state.player1?e="Player 2":!s.state.multiplayer&&s.state.player1&&(e=""),s.props.setMultiplayer(s.state.multiplayer,s.state.player0,e),s.props.history.push("/math-race/setup")};var a=[e.players&&e.players[0].name||"Hasana",e.players&&e.players[1].name||""];return s.state={multiplayer:!!e.multiplayer,player0:a[0],player1:a[1]},s}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{style:{textAlign:"center"},children:"Maths Race"}),Object(s.jsxs)("div",{className:Ge.PlayerSelection,children:[Object(s.jsxs)("div",{className:Ge.RaceSetup,children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"mode",value:"false",onChange:function(t){return e.setState({multiplayer:!1})},defaultChecked:!this.state.multiplayer}),Object(s.jsx)("label",{children:"Single Player"}),Object(s.jsx)("input",{type:"text",placeholder:"Player Name",onChange:function(t){return e.setState({player0:t.currentTarget.value})},name:"player1",value:this.state.player0})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"mode",value:"true",onChange:function(t){return e.setState({multiplayer:!0})},defaultChecked:!!this.state.multiplayer}),Object(s.jsx)("label",{children:"Two Player"}),Object(s.jsx)("input",{style:{visibility:this.state.multiplayer?"visible":"hidden"},type:"text",name:"player1",placeholder:"Player Name",onChange:function(t){return e.setState({player1:t.currentTarget.value})},value:this.state.player1})]})]}),Object(s.jsx)("div",{style:{display:"flex",flexFlow:"row",justifyContent:"flex-end",marginRight:"10px"},children:Object(s.jsx)("button",{type:"submit",value:"Start",onClick:this.goNext,className:["w3-btn","w3-round-large",Ge.BtnGo].join(" "),children:"Next >>"})})]})]})}}]),n}(a.PureComponent),Ke=Object(l.b)((function(e){return{multiplayer:e.game.multiplayer,players:e.game.players}}),(function(e){return{setMultiplayer:function(t,n,s){return e(function(e,t,n){return function(s,a){var r=Object(N.a)(a().game.players);r[0].name=t,r[1].name=n,s({type:L,multiplayer:e,players:r})}}(t,n,s))}}}))(We),Ye=n(192),Ve=function(e){Object(m.a)(n,e);var t=Object(x.a)(n);function n(e){var s;return Object(y.a)(this,n),(s=t.call(this,e)).state={},s}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.props.players.map((function(t,n){return t.name?Object(s.jsx)(Le,{history:e.props.history,playerno:"".concat(t.id)},t.id):Object(s.jsx)(a.Fragment,{},t.id)}));return Object(s.jsx)("div",{className:Ye.Race,style:{backgroundImage:"url(".concat("/math-race","/images/underwater.png)")},children:t})}}]),n}(a.PureComponent),Xe=Object(l.b)((function(e){return{players:e.game.players}}),(function(e){return{}}))(Ve),Ue=n(64),ze=n.n(Ue),Je=n(41),Ze=(n(254),n(126)),$e=n.n(Ze);var et=function(e){var t=e.label,n=e.checked;return Object(s.jsxs)("label",{className:$e.a.Toggle,children:[Object(s.jsx)("input",{type:"checkbox",name:t,value:"true",defaultChecked:n?"checked":""}),Object(s.jsx)("span",{className:$e.a.Slider})]})},tt=function(e){Object(m.a)(n,e);var t=Object(x.a)(n);function n(e){var s;Object(y.a)(this,n),(s=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t=s.form,n=(t.player0,t.digits0),a=t.numbers0,r=t.decimals0,i=t.type0,c=t.points0,o=t.inwords0,l=t.tens0,u=t.delay0,p=t.level0,d=t.HR240,j=t.testmode0,y={type:i.value,nos:+a.value,digits:+n.value,decimals:["+-"].includes(i.value)?+r.value:0,points:+c.value,delay:["+-","+-x","BAL"].includes(i.value)?+u.value:0,tens:l.checked,HR24:d.checked,level:+p.value,inwords:o.checked,testmode:j.checked};s.props.start(s.state.player0,"",y,y),s.props.history.push("/math-race/play")};var a=[e.players&&e.players[0].name||"Hasana",e.players&&e.players[1].name||""],r=[e.players&&e.players[0].questiontype.type||"+-",e.players&&e.players[1].questiontype.type||"+-"];e.players&&e.players[0].questiontype.digits,e.players&&e.players[1].questiontype.digits;return s.state={type0:r[0],digits0:e.players&&e.players[0].questiontype.digits||3,player0:a[0],numbers0:e.players&&e.players[0].questiontype.nos||4,decimals0:e.players&&e.players[0].questiontype.decimals||0,points0:e.players&&e.players[0].questiontype.points||10,inwords0:e.players&&e.players[0].questiontype.inwords,tens0:e.players&&e.players[0].questiontype.tens,delay0:e.players&&e.players[0].questiontype.delay||0,level0:e.players&&e.players[0].questiontype.level||2,HR240:e.players&&e.players[0].questiontype.HR24,testmode0:e.players&&e.players[0].questiontype.testmode},s}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=[this.props.players&&this.props.players[0].name||"Hasana"],n=this.props.players[0],r=(n.name,n.questiontype),i=Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"w3-row",children:[Object(s.jsxs)("div",{className:["w3-col m6",Je.Type].join(" "),children:[Object(s.jsxs)("div",{className:Je.Group4,children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"type".concat(0),value:"+-",onChange:function(t){return e.setState(Object(fe.a)({},"type".concat(0),t.currentTarget.value))},defaultChecked:"+-"===r.type}),Object(s.jsx)("label",{children:"+-"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"type".concat(0),value:"x",onChange:function(t){return e.setState(Object(fe.a)({},"type".concat(0),t.currentTarget.value))},defaultChecked:"x"===r.type}),Object(s.jsx)("label",{children:"X"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"type".concat(0),value:"/",onChange:function(t){return e.setState(Object(fe.a)({},"type".concat(0),t.currentTarget.value))},defaultChecked:"/"===r.type}),Object(s.jsx)("label",{children:"/"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"type".concat(0),value:"+-x",onChange:function(t){return e.setState(Object(fe.a)({},"type".concat(0),t.currentTarget.value))},defaultChecked:"+-x"===r.type}),Object(s.jsx)("label",{children:"+-x"})]})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"type".concat(0),value:"X2",onChange:function(t){return e.setState(Object(fe.a)({},"type".concat(0),t.currentTarget.value))},defaultChecked:"X2"===r.type}),Object(s.jsxs)("label",{children:["X",Object(s.jsx)("sup",{children:"2"})]})]}),Object(s.jsxs)("div",{className:Je.Group2,children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"type".concat(0),value:"TIME+-",onChange:function(t){return e.setState(Object(fe.a)({},"type".concat(0),t.currentTarget.value))},defaultChecked:"TIME+-"===r.type}),Object(s.jsx)("label",{children:"Time Difference"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"type".concat(0),value:"TIMEHRS+-",onChange:function(t){return e.setState(Object(fe.a)({},"type".concat(0),t.currentTarget.value))},defaultChecked:"TIMEHRS+-"===r.type}),Object(s.jsx)("label",{children:"Time +- Hrs"})]})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"type".concat(0),value:"BAL",onChange:function(t){return e.setState(Object(fe.a)({},"type".concat(0),t.currentTarget.value))},defaultChecked:"BAL"===r.type}),Object(s.jsx)("label",{children:"Balancing Technique"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"type".concat(0),value:"FILL",onChange:function(t){return e.setState(Object(fe.a)({},"type".concat(0),t.currentTarget.value))},defaultChecked:"FILL"===r.type}),Object(s.jsx)("label",{children:"Fill"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"type".concat(0),value:"x/y",onChange:function(t){return e.setState(Object(fe.a)({},"type".concat(0),t.currentTarget.value))},defaultChecked:"x/y"===r.type}),Object(s.jsx)("label",{children:"Fractions"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"type".concat(0),value:"CONVERSIONS",onChange:function(t){return e.setState(Object(fe.a)({},"type".concat(0),t.currentTarget.value))},defaultChecked:"CONVERSIONS"===r.type}),Object(s.jsx)("label",{children:"Conversions"})]})]}),Object(s.jsx)("div",{className:["w3-col m6"].join(" "),children:Object(s.jsxs)("div",{className:[Je.Options].join(" "),children:[Object(s.jsxs)("div",{style:{display:["+-","+-x","x","/","X2","WORD","FILL","MONEY","CONVERSIONS","x/y"].includes(this.state["type".concat(0)])?"flex":"none"},children:[Object(s.jsx)("h5",{children:"Digits"}),Object(s.jsx)(ze.a,{name:"digits0",minValue:1,maxValue:4,value:this.state.digits0,onChange:function(t){return e.setState({digits0:t})},step:1})]}),Object(s.jsxs)("div",{style:{marginLeft:"0px",display:["+-","+-x","x","BAL"].includes(this.state["type".concat(0)])?"flex":"none"},children:[Object(s.jsx)("h5",{children:"Numbers"}),Object(s.jsx)(ze.a,{name:"numbers0",minValue:"x"===this.state["type".concat(0)]?1:2,maxValue:20,value:1===this.state.numbers0?"x"===this.state["type".concat(0)]?this.state.numbers0:2:this.state.numbers0,onChange:function(t){return e.setState({numbers0:t})},step:1})]}),Object(s.jsxs)("div",{style:{display:2===this.state["digits".concat(0)]&&["X2"].includes(this.state["type".concat(0)])?"flex":"none"},children:[Object(s.jsx)("h5",{children:"Tens only"}),Object(s.jsx)("div",{className:Je.Items,children:Object(s.jsx)(et,{label:"tens".concat(0),checked:!!r.tens})})]}),Object(s.jsxs)("div",{style:{display:["TIMEHRS+-","TIME+-"].includes(this.state["type".concat(0)])?"flex":"none"},children:[Object(s.jsx)("h5",{children:"24Hr"}),Object(s.jsx)("div",{className:Je.Items,children:Object(s.jsx)(et,{label:"HR24".concat(0),checked:!!r.HR24})})]}),Object(s.jsxs)("div",{style:{display:["+-","TIMEHRS+-","TIME+-","BAL"].includes(this.state["type".concat(0)])?"flex":"none"},children:[Object(s.jsx)("h5",{children:"Level"}),Object(s.jsx)(ze.a,{name:"level0",minValue:1,maxValue:["+-","BAL"].includes(this.state["type".concat(0)])?2:4,value:this.state.level0,onChange:function(t){return e.setState({level0:t})},step:1})]}),Object(s.jsxs)("div",{style:{display:["+-","+-x","BAL"].includes(this.state["type".concat(0)])?"flex":"none"},children:[Object(s.jsx)("h5",{children:"Delay"}),Object(s.jsx)(ze.a,{name:"delay0",minValue:0,maxValue:10,value:this.state.delay0,onChange:function(t){return e.setState({delay0:t})},step:1,formatLabel:function(e){return"".concat(e,"s")}})]}),Object(s.jsxs)("div",{style:{display:"flex"},children:[Object(s.jsx)("h5",{children:"In Words"}),Object(s.jsx)("div",{className:Je.Items,children:Object(s.jsx)(et,{label:"inwords".concat(0),checked:!!r.inwords})})]}),Object(s.jsxs)("div",{style:{display:"+-"===this.state["type".concat(0)]?"flex":"none"},children:[Object(s.jsx)("h5",{children:"Decimals"}),Object(s.jsx)(ze.a,{name:"decimals0",minValue:0,maxValue:2,value:this.state.decimals0,onChange:function(t){return e.setState({decimals0:t})},step:1})]}),Object(s.jsxs)("div",{style:{display:["FILL","WORD","MONEY","CONVERSIONS"].includes(this.state["type".concat(0)])?"none":"flex"},children:[Object(s.jsx)("h5",{children:"Points"}),Object(s.jsx)(ze.a,{name:"points0",minValue:1,maxValue:20,value:this.state.points0,onChange:function(t){return e.setState({points0:t})},step:1})]}),Object(s.jsxs)("div",{style:{display:"flex"},children:[Object(s.jsx)("h5",{children:"Exam"}),Object(s.jsx)("div",{className:Je.Items,children:Object(s.jsx)(et,{label:"testmode".concat(0),checked:!!r.testmode})})]}),Object(s.jsx)("div",{style:{display:"flex"}})]})})]})},0);return Object(s.jsx)(a.Fragment,{children:Object(s.jsxs)("form",{onSubmit:this.handleSubmit,ref:function(t){e.form=t},children:[Object(s.jsxs)("h5",{className:"w3-container",style:{width:"100%",textAlign:"center"},children:["Maths Race ",t]}),Object(s.jsxs)("div",{className:["w3-container",Je.SingleplayerSetup].join(" "),children:[i,Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{type:"submit",value:"Start",className:["w3-btn","w3-round",Je.BtnGo].join(" "),children:"Start >>"}),Object(s.jsx)("button",{type:"button",value:"Home",onKeyPress:function(t){return e.props.history.push("/math-race")},onClick:function(t){return e.props.history.push("/math-race")},className:["w3-btn","w3-round","w3-white",Je.BtnGo].join(" "),children:"< < Home"})]})]})]})})}}]),n}(a.PureComponent),nt=Object(l.b)((function(e){return{players:e.game.players}}),(function(e){return{start:function(t,n,s,a){return e(ye(t,n,s,a))}}}))(tt),st=n(10),at=n.n(st),rt=(n(255),n(197)),it=n.n(rt),ct=function(e){Object(m.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(y.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).submitAnswer=function(t){var n=e.inputAnswer.value;e.props.seperator&&(n="".concat(e.inputAnswer.value).concat(e.props.seperator).concat(e.inputAnswer1.value)),e.props.goClick(n)},e._handleKeyDown=function(t){"Enter"===t.key&&e.submitAnswer(t)},e._handleKeyDown1=function(t){"Enter"===t.key&&e.inputAnswer1.focus()},e.resetInput=function(){e.inputAnswer.value="",e.props.seperator&&(e.inputAnswer1.value=""),e.focusInput()},e.focusInput=function(){e.inputAnswer.focus()},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.props.resetAnswer(this.resetInput),this.props.focusAnswer(this.focusInput),this.inputAnswer.focus()}},{key:"render",value:function(){var e=this,t=Object(s.jsx)("input",{ref:function(t){e.inputAnswer=t},inputMode:"numeric",onKeyDown:this._handleKeyDown,type:"text",maxLength:"7",className:["w3-btn","w3-round-large"].join(" ")});return this.props.seperator&&(t=Object(s.jsxs)(a.Fragment,{children:[Object(s.jsx)("input",{placeholder:"hrs",ref:function(t){e.inputAnswer=t},inputMode:"numeric",onKeyDown:this._handleKeyDown1,type:"text",maxLength:"7",className:["w3-btn","w3-round-large"].join(" ")}),this.props.seperator,Object(s.jsx)("input",{placeholder:"min",ref:function(t){e.inputAnswer1=t},inputMode:"numeric",onKeyDown:this._handleKeyDown,type:"text",maxLength:"7",className:["w3-btn","w3-round-large"].join(" ")})]})),Object(s.jsxs)(a.Fragment,{children:[t,Object(s.jsx)("button",{type:"button",onClick:this.submitAnswer,className:["w3-btn","w3-round-large","ColorTheme",it.a.BtnGo].join(" "),children:"GO"})]})}}]),n}(a.PureComponent),ot=function(e){Object(m.a)(n,e);var t=Object(x.a)(n);function n(e){var s;return Object(y.a)(this,n),(s=t.call(this,e)).success=new _e.Howl({src:Te,volume:1}),s.wrong=new _e.Howl({src:Re,volume:1}),s.click=new _e.Howl({src:Be,volume:1}),s.movingfish=new _e.Howl({src:Ae,volume:1}),s.claps=new _e.Howl({src:Ie,volume:1}),s.timers=[],s.answertimers=[],s.state={closedisplay:!1,question:"",answer:"",fullquestion:"",qcounter:0,attempts:0},s.animateNextQuestion=function(e){var t=setTimeout((function(){var t=s.answerRef.current;if(!(s.state.qcounter>=e.questions.length)){if(s.setState((function(t){return{qcounter:t.qcounter+1,question:e.questions[t.qcounter],answer:t.qcounter<e.questions.length-1&&t.attempts>1?e.answers[t.qcounter-1]:"",fullquestion:e.question,automate:!0}})),t){t.classList.remove(at.a.HideAnswer);var n=setTimeout((function(){t.classList.add(at.a.HideAnswer)}),1e3);s.answertimers.push(n)}s.animateNextQuestion(e)}}),1e3*e.questiontype.delay);s.timers.push(t)},s.displayQuestion=function(e,t){s.retryRef.current;s.focusAnswer();var n;if(!((n=t>=e.questions.length?e.questions.length-1:t)>=e.questions.length||n<0)){var a=n<e.questions.length-1&&s.state.attempts>1?e.answers[n-1]:"";s.setState((function(t){return{qcounter:n+1,question:e.questions[n],answer:a,fullquestion:e.question}})),s.animateNextQuestion(e)}},s.nextQuestion=function(){s.clearTimer();var e=s.props.players[s.props.playerno];s.displayQuestion(e,s.state.qcounter)},s.prevQuestion=function(){s.clearTimer();var e=s.props.players[s.props.playerno];s.displayQuestion(e,s.state.qcounter-2)},s.buttonTheme=function(){return"ColorTheme"},s.sectionTheme=function(){return"ColorTheme"},s._handleKeyDown=function(e){"Enter"===e.key&&s.goClick()},s.goClick=function(e){var t=s.props.players[s.props.playerno],n=s.correctRef.current,a=s.questionRef.current,r=s.wrongRef.current,i=s.retryRef.current;if(e){s.clearTimer();var c=e;(t.questiontype.decimals>0||e.indexOf(".")>-1)&&(c=(+e).toFixed(2).replace(/(\.0+|0+)$/,""));var o=String(c).replace(/^0+/,"")==String(t.answer).replace(/^0+/,"");if(t.questiontype.testmode||o){if(t.points===t.questiontype.points-1||t.wordquestionsindexs&&1===t.wordquestionsindexs.length)return s.success.play(),s.movingfish.play(),s.props.win(s.props.playerno,o),void setTimeout((function(){s.props.complete(s.props.playerno),s.props.history.push("/math-race/complete"),s.claps.play()}),2e3);a.classList.remove(at.a.ShowQuestion),n.classList.add(at.a.MessageAnimate),a.classList.add(at.a.HideQuestion),setTimeout((function(){s.props.nextQuestion(s.props.playerno,o),s.resetAnswer(),n.classList.remove(at.a.MessageAnimate),a.classList.remove(at.a.HideQuestion),a.classList.add(at.a.ShowQuestion)}),1e3),s.success.play(),s.movingfish.play()}else s.state.attempts>1?(r.classList.add(at.a.MessageAnimate),setTimeout((function(){s.props.wrongAnswer(s.props.playerno),s.resetAnswer(),r.classList.remove(at.a.MessageAnimate)}),1e3),s.wrong.play()):(i.classList.add(at.a.MessageAnimate),setTimeout((function(){i.classList.remove(at.a.MessageAnimate)}),1e3),s.resetAnswer(),s.setState((function(e){return{attempts:e.attempts+1}})),s.wrong.play())}},s.clearTimer=function(){s.timers.forEach((function(e){clearInterval(e)})),s.answertimers.forEach((function(e){clearInterval(e)}))},s.restart=function(){var e=s.props.players[s.props.playerno];s.clearTimer(),s.setState({question:"",fullquestion:e.question}),s.displayQuestion(e,0)},s.reset=function(){s.props.reset(),s.props.history.push("/math-race/setup")},s.correctRef=r.a.createRef(),s.wrongRef=r.a.createRef(),s.questionRef=r.a.createRef(),s.retryRef=r.a.createRef(),s.answerRef=r.a.createRef(),s}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.players[this.props.playerno];0===e.questiontype.delay?this.setState({question:e.question,fullquestion:e.question}):this.displayQuestion(e,0)}},{key:"componentDidUpdate",value:function(){var e=this.props.players[this.props.playerno];e.question!==this.state.fullquestion&&(0===e.questiontype.delay?this.setState({question:e.question,fullquestion:e.question,attempts:0}):(this.setState({attempts:0}),this.displayQuestion(e,0)))}},{key:"render",value:function(){var e=this,t=this.props.players[this.props.playerno];console.log("[PlayerSection] render",this.props.playerno,t.answer,t.question,"questions",t.questions);var n="";n="TIMEHRS+-"===t.questiontype.type?":":n,n="TIME+-"===t.questiontype.type?":":n;var r=Object(s.jsxs)(a.Fragment,{children:[Object(s.jsx)("div",{ref:this.correctRef,className:[at.a.DisplayMessage,at.a.Correct].join(" "),children:t.questiontype.testmode?"Next Question":ie(["Tremendous","Remarkable","Great","Terrific","Enormous","Impressive","Outstanding","Phenomenal","Marvellous","Wonderful","Sensational","Magnificent","Superb","Excellent","Very good","First-class","Fabulous","Super","Awesome","Brilliant","Keep going"])}),Object(s.jsxs)("div",{ref:this.wrongRef,className:[at.a.DisplayMessage,at.a.Wrong].join(" "),children:["".concat(ie(["Concentrate","Focus","Think hard","Give attention","Be attentive"])),Object(s.jsx)("br",{})," ","It's ".concat(t.answer)]}),Object(s.jsxs)("div",{ref:this.retryRef,className:[at.a.DisplayMessage,at.a.Retry].join(" "),children:["".concat(ie(["Try Again","Retry","Re-attempt","Re-Think"])),Object(s.jsx)("br",{})," ","attempt #".concat(this.state.attempts+1)]})]});return Object(s.jsxs)("div",{className:[at.a.SingleplayerSection].join(" "),children:[Object(s.jsxs)(Me,{show:!!this.state.closedisplay,modelClosed:function(){return e.setState({closedisplay:!1})},children:[Object(s.jsx)("span",{children:"Do you want to exit the game?"}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("a",{role:"button",onClick:this.reset,tabIndex:0,onKeyPress:this.reset,style:{margin:"10px"},className:["w3-button","w3-round-large",this.buttonTheme()].join(" "),children:[" ","Restart"]}),Object(s.jsxs)("a",{role:"button",onClick:function(){return e.setState({closedisplay:!1})},tabIndex:0,onKeyPress:function(){return e.setState({closedisplay:!1})},style:{margin:"10px"},className:["w3-button","w3-round-large","w3-grey"].join(" "),children:[" ","Cancel"]})]})]}),r,Object(s.jsx)("div",{className:[at.a.PlayerCharacter].join(" "),children:Object(s.jsx)("div",{className:"w3-light-grey w3-round",children:Object(s.jsx)("div",{className:"w3-container w3-round ColorTheme",style:{width:"".concat(t.points*(100/+t.questiontype.points),"vw")},children:Object(s.jsx)("span",{className:at.a.ProgressBar,children:"".concat(t.points,"/").concat(t.questiontype.points)})})})}),Object(s.jsx)("div",{className:at.a.QuestionBar,children:Object(s.jsxs)("div",{ref:this.questionRef,className:at.a.Question,children:[Object(s.jsx)(we.a,{classNames:"question",timeout:200,children:Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{style:{display:"inline-block",fontSize:"2.3em",paddingBottom:"20px"},dangerouslySetInnerHTML:{__html:this.state.question}}),Object(s.jsx)("span",{ref:this.answerRef,className:at.a.NextAnswer,dangerouslySetInnerHTML:{__html:this.state.answer}})]})}),Object(s.jsxs)("div",{className:at.a.Refresh,children:[Object(s.jsx)("a",{className:["w3-btn","w3-round-large",this.buttonTheme(),at.a.BtnNumber].join(" "),style:{display:0===t.questiontype.delay||t.questiontype.testmode?"none":"flex"},role:"button",onClick:this.prevQuestion,tabIndex:0,onKeyPress:this.prevQuestion,children:Object(s.jsx)("i",{className:"fa fa-long-arrow-left"})}),Object(s.jsx)("a",{className:["w3-btn","w3-round-large",this.buttonTheme(),at.a.BtnNumber].join(" "),style:{display:0===t.questiontype.delay||t.questiontype.testmode?"none":"flex"},role:"button",onClick:this.nextQuestion,tabIndex:0,onKeyPress:this.nextQuestion,children:Object(s.jsx)("i",{className:"fa fa-long-arrow-right"})}),Object(s.jsx)("a",{className:["w3-btn","w3-round-large",this.buttonTheme(),at.a.BtnNumber].join(" "),style:{display:0===t.questiontype.delay||t.questiontype.testmode?"none":"flex"},role:"button",onClick:this.restart,tabIndex:0,onKeyPress:this.restart,children:Object(s.jsx)("i",{className:"fa fa-refresh"})}),Object(s.jsx)("a",{className:["w3-btn","w3-round-large",this.buttonTheme(),at.a.BtnNumber].join(" "),style:{display:"flex"},role:"button",onClick:function(){return e.setState({closedisplay:!0})},tabIndex:0,onKeyPress:function(){return e.setState({closedisplay:!0})},children:Object(s.jsx)("i",{className:"fa fa-window-close"})})]}),Object(s.jsx)("div",{className:at.a.Answer,children:Object(s.jsx)(ct,{resetAnswer:function(t){e.resetAnswer=t},focusAnswer:function(t){e.focusAnswer=t},seperator:n,goClick:this.goClick})})]})})]})}}]),n}(a.PureComponent),lt=Object(l.b)((function(e){return{players:e.game.players}}),(function(e){return{reset:function(){return e(je())},nextQuestion:function(t,n){return e(he(t,n))},wrongAnswer:function(t){return e(be(t))},win:function(t,n){return e(xe(t,n))},complete:function(){return e(me())}}}))(ot),ut=n(198),pt=function(e){Object(m.a)(n,e);var t=Object(x.a)(n);function n(e){var s;return Object(y.a)(this,n),(s=t.call(this,e)).state={},s}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.players[0];return Object(s.jsx)("div",{className:ut.Race,children:Object(s.jsx)(lt,{history:this.props.history,playerno:"".concat(e.id)},e.id)})}}]),n}(a.PureComponent),dt=Object(l.b)((function(e){return{players:e.game.players}}),(function(e){return{}}))(pt),jt=function(e){Object(m.a)(n,e);var t=Object(x.a)(n);function n(e){var s;return Object(y.a)(this,n),(s=t.call(this,e)).state={},s.props.reset(),s}return Object(h.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return!this.props.players&&e.players||this.props.starttime!==e.starttime||this.props.endtime!==e.endtime}},{key:"render",value:function(){var e=this;return Object(s.jsxs)(a.Fragment,{children:[Object(s.jsx)(_.a,{path:"/math-race",exact:!0,component:Ke}),Object(s.jsx)(_.a,{path:"/math-race/setup",exact:!0,render:function(t){return e.props.multiplayer?Object(s.jsx)(ge,Object(S.a)({},t)):Object(s.jsx)(nt,Object(S.a)({},t))}}),Object(s.jsx)(_.a,{path:"/math-race/play",exact:!0,render:function(t){return e.props.multiplayer?Object(s.jsx)(Xe,Object(S.a)({},t)):Object(s.jsx)(dt,Object(S.a)({},t))}}),Object(s.jsx)(_.a,{path:"/math-race/complete",exact:!0,render:function(t){return Object(s.jsx)(Ee,Object(S.a)(Object(S.a)({},t),{},{players:e.props.players,reset:e.props.reset}))}})]})}}]),n}(a.Component),yt=Object(l.b)((function(e){return{players:e.game.players,multiplayer:e.game.multiplayer,starttime:e.game.starttime,endtime:e.game.endtime}}),(function(e){return{reset:function(){return e(je())}}}))(jt);a.Component;var ht=function(){return Object(s.jsx)(_.c,{children:Object(s.jsx)(_.a,{path:"/",component:yt})})};var bt=function(){return Object(s.jsx)(ht,{})},mt={name:null,points:0,wrong:0,question:null,answer:null,answerresult:null,questiontype:Object(S.a)({},{type:"+-",nos:2,digits:2,decimals:0,points:10,tens:"Y",delay:0,inwords:!1,level:1,HR24:"N",testmode:!1})},xt={starttime:null,endtime:null,multiplayer:!1,players:[Object(S.a)({id:0},mt),Object(S.a)({id:1},mt)],wordquestions:null},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,t=arguments.length>1?arguments[1]:void 0,n=null;switch(t.type){case L:return Object(S.a)(Object(S.a)({},e),{},{players:Object(N.a)(t.players),multiplayer:t.multiplayer});case M:return Object(S.a)(Object(S.a)({},e),{},{starttime:null,endtime:null});case T:return Object(S.a)(Object(S.a)({},e),{},{wordquestions:t.questions});case R:return Object(S.a)(Object(S.a)({},e),{},{starttime:new Date,players:Object(N.a)(t.players)});case A:return(n=Object(N.a)(e.players))[t.playerno].points+=1,t.isCorrect||(n[t.playerno].wrong+=1),n[t.playerno].question=t.question,n[t.playerno].questions=t.questions,n[t.playerno].answers=t.answers,n[t.playerno].answer=t.answer,n[t.playerno].answerresult="CORRECT",n[t.playerno].questionno=t.questionno,n[t.playerno].wordquestionsindexs=t.wordquestionsindexs,Object(S.a)(Object(S.a)({},e),{},{players:Object(N.a)(n)});case B:return(n=Object(N.a)(e.players))[t.playerno].wrong+=1,n[t.playerno].question=t.question,n[t.playerno].questions=t.questions,n[t.playerno].answers=t.answers,n[t.playerno].answer=t.answer,n[t.playerno].questionno=t.questionno,n[t.playerno].answerresult="WRONG",Object(S.a)(Object(S.a)({},e),{},{players:n});case I:return(n=Object(N.a)(e.players))[t.playerno].points+=1,t.isCorrect||(n[t.playerno].wrong+=1),Object(S.a)(Object(S.a)({},e),{},{players:Object(N.a)(n)});case H:return Object(S.a)(Object(S.a)({},e),{},{endtime:new Date});default:return e}},Ot=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,vt=Object(u.c)({game:ft}),gt=Object(u.e)(vt,Ot(Object(u.a)(p.a)));c.a.render(Object(s.jsx)(l.a,{store:gt,children:Object(s.jsx)(o.a,{children:Object(s.jsx)(bt,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/math-race",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="/math-race/service-worker.js";d?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var s=n.headers.get("content-type");404===n.status||null!=s&&-1===s.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):j(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):j(t,e)}))}}()},62:function(e,t,n){e.exports={BtnGo:"MultiplayerSetup_BtnGo__N6py2",BtnNumber:"MultiplayerSetup_BtnNumber__1ttzk",MultiplayerSetup:"MultiplayerSetup_MultiplayerSetup__1tKOS",Options:"MultiplayerSetup_Options__37vVT",Players:"MultiplayerSetup_Players__3vjYC",ExtraWide:"MultiplayerSetup_ExtraWide__Ef-1Y",Race:"MultiplayerSetup_Race__qI4nG"}},63:function(e,t,n){e.exports={Score:"RaceComplete_Score__1hh63",RaceComplete:"RaceComplete_RaceComplete__3X8Bw",ScoreLabel:"RaceComplete_ScoreLabel__UTyaQ"}},7:function(e,t,n){e.exports={_0:"MultiplayerSection__0__3FQ2z",_1:"MultiplayerSection__1__1cAKq",PlayerCharacter:"MultiplayerSection_PlayerCharacter__3QSp1",QuestionBar:"MultiplayerSection_QuestionBar__XK5hd","question-enter":"MultiplayerSection_question-enter__2KMpy","question-enter-active":"MultiplayerSection_question-enter-active__1UzVo","question-exit":"MultiplayerSection_question-exit__242UT","question-exit-active":"MultiplayerSection_question-exit-active__2s6OB",Question:"MultiplayerSection_Question__J6kWx",Close:"MultiplayerSection_Close__1D6se",Refresh:"MultiplayerSection_Refresh__2Eo9H",ButtonBar:"MultiplayerSection_ButtonBar__svEE5",Answer:"MultiplayerSection_Answer__2b1su",BtnGo:"MultiplayerSection_BtnGo__33T6Z",BtnNumber:"MultiplayerSection_BtnNumber__2X92x",HideQuestion:"MultiplayerSection_HideQuestion__2-oOJ","hide-question":"MultiplayerSection_hide-question___SqoQ",ShowQuestion:"MultiplayerSection_ShowQuestion__ifrF6","show-question":"MultiplayerSection_show-question__2_CVP",DisplayMessage:"MultiplayerSection_DisplayMessage__ztVg3",MessageAnimate:"MultiplayerSection_MessageAnimate__2LgMl","hide-animation":"MultiplayerSection_hide-animation__-RAXp",Correct:"MultiplayerSection_Correct__3QQZL",Wrong:"MultiplayerSection_Wrong__nTh0d",points0:"MultiplayerSection_points0__3OZAD","\xd2":"MultiplayerSection_\xd2__22fnT",points1:"MultiplayerSection_points1__3nLOM",points2:"MultiplayerSection_points2__fY2ls",points3:"MultiplayerSection_points3__ZLtxp",points4:"MultiplayerSection_points4__2laE2",points5:"MultiplayerSection_points5__3hRkC",points6:"MultiplayerSection_points6__1lFrV",points7:"MultiplayerSection_points7__3boD6",points8:"MultiplayerSection_points8__Mjm5G",points9:"MultiplayerSection_points9__2KgCZ",points10:"MultiplayerSection_points10__1RQat"}},72:function(e,t,n){e.exports={drawArea:"DrawArea_drawArea__2zm64",drawing:"DrawArea_drawing__12Nyx"}},83:function(e,t,n){e.exports={DisplayMessage:"DisplayMessage_DisplayMessage__qsfDJ",Correct:"DisplayMessage_Correct__2Iu6S",Wrong:"DisplayMessage_Wrong__2oP-U","hide-animation":"DisplayMessage_hide-animation__2oQFU"}},97:function(e,t,n){e.exports={PlayerSelection:"PlayerSelection_PlayerSelection__12WSJ",RaceSetup:"PlayerSelection_RaceSetup__-PjGT",BtnGo:"PlayerSelection_BtnGo__2UJKn"}}},[[531,1,2]]]);
//# sourceMappingURL=main.c8ce0d06.chunk.js.map